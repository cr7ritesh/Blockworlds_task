Here is an optimal plan to solve the new planning problem:

1. Unstack b5 from b3
2. Putdown b5
3. Unstack b3 from b4
4. Putdown b3
5. Unstack b2 from b1
6. Putdown b2
7. Pickup b1
8. Stack b1 on b2
9. Pickup b3
10. Stack b3 on b5
11. Pickup b4
12. Stack b4 on b1

This plan ensures that the blocks are arranged in the desired configuration, with b1 on top of b2, b3 on top of b5, and b4 on top of b1. Each action in the plan follows the constraints of the domain, considering the initial state and the capabilities of the arm.