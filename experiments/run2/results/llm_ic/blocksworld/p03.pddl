Here is an optimal plan to solve the new planning problem: 

1. Pickup b1
2. Stack b1 on b2
3. Unstack b3 from b2
4. Putdown b3
5. Pickup b2
6. Stack b2 on b1
7. Pickup b4
8. Stack b3 on b4

This plan ensures that the blocks are arranged in the desired configuration, with b2 on top of b1 and b3 on top of b4.