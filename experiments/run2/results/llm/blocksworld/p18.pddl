Here is an optimal plan to achieve the desired configuration of blocks: 

1. pickup(b10)
2. unstack(b7, b1)
3. unstack(b2, b10)
4. unstack(b5, b2)
5. unstack(b3, b5)
6. stack(b3, b7)
7. stack(b5, b6)
8. stack(b2, b7)
9. stack(b1, b4)
10. stack(b10, b9)
11. stack(b4, b11)
12. stack(b8, b3)
13. stack(b11, b8)

This plan consists of 13 steps, and at the end of it, the blocks will be configured as desired.