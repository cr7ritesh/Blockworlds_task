The optimal plan to achieve the desired configuration of blocks is as follows: 

- **unstack b5 from b3**
- **putdown b5**
- **pickup b3**
- **stack b3 on b5**
- **unstack b4 from b2**
- **putdown b4**
- **pickup b1**
- **stack b1 on b2**
- **pickup b4**
- **stack b4 on b1**

This plan consists of 10 actions, and it achieves the goal of having b1 on top of b2, b3 on top of b5, and b4 on top of b1. Each action is valid given the initial state and the constraints of the domain.